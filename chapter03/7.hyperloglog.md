# Hyperloglog
- hyperloglog 는 집합의 원소 개수인 카디널리티를 추정할 수 있는 자료 구조이다.
- 대량 데이터에서 중복되지 않는 고유한 값을 집계할 때 유용하게 사용할 수 있는 데이터 구조다.
- **set 과의 차이는?**
    - set 은 중복을 피하기 위해 저장된 데이터를 모두 기억하고 있으며, 따라서 데이터가 많아질 수록 메모리를 많이 사용한다.
    - 하지만, hyperloglog 은 입력 데이터 그 자체를 저장하지 않고 자체적인 방법으로 데이터를 변경해 처리한다.
    - 따라서 hyperloglog 는 저장되는 데이터 수에 구애받지 않고 일정한 메모리를 유지할 수 있고, 중복 없는 유일한 원소의 개수를 계산할 수 있다.
- 특징
    - 하나의 hyperloglog 는 최대 12KB 크기를 가진다.
    - 레디스에서 카디널리티 추정의 오차는 0.81%로 비교적 정확하게 데이터를 추정 가능하다.
    - 하나의 hyperloglog 는 최대 2^64개의 아이템을 저장할 수 있다.

## Command 종류
### `PFADD`, `PFCOUNT`
- PFADD: 아이템을 저장한다.
- PFCOUNT: 저장된 아이템의 개수, 즉 카디널리티를 추정할 수 있다.
```shell
127.0.0.1:6379> PFADD members 123
(integer) 1

127.0.0.1:6379> PFADD members 500
(integer) 1

127.0.0.1:6379> PFADD members 12
(integer) 1

127.0.0.1:6379> PFADD members 123 # 추정치가 변하지 않음
(integer) 0

127.0.0.1:6379> PFCOUNT members
(integer) 3
```