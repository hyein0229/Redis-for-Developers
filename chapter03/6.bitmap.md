# 비트맵(Bitmap)
- 비트맵은 독자적인 자료구조는 아니며 string 자료 구조에 bit 연산을 수행할 수 있도록 확장한 형태이다.
- string 자료 구조가 binary-safe 하며 최대 512MB 값을 저장할 수 있는 구조이므로, 2^32 비트를 가지고 있는 비트맵 형태로 볼 수 있는 것이다.
- 사용할 때의 장점
    - 저장 공간을 획기적으로 줄일 수 있다는 것이다.
    - 만약, 각 유저가 정수형의 ID 로 구분되고, 전체 유저가 40억이 넘는다고 해도 각 유저에 대한 y/n 데이터는 512MB 안에 충분하다.
- 따라서 간단한 존재 여부 체크, 상태 체크 등 필터, 간단한 상태 기록 등에 사용할 수 있다.

## Command 종류
### `SETBIT`, `GETBIT`
- SETBIT key offset value
- GETBIT key offset
```shell
127.0.0.1:6379> SETBIT mybitmap 2 1
(integer) 0

127.0.0.1:6379> GETBIT mybitmap 2
(integer) 1
```

### `BITFIELD`
- BITFIELD: 한 번에 여러 비트를 SET
- BITCOUNT: 1로 설정된 비트의 개수를 카운팅하여 출력
```shell
127.0.0.1:6379> BITFIELD mybitmap SET u1 6 1 SET u1 10 1 SET u1 14 1
1) (integer) 0
2) (integer) 0
3) (integer) 0

127.0.0.1:6379> BITCOUNT mybitmap
(integer) 3
```
u1 은 unsigned-1 bit 를 말한다.